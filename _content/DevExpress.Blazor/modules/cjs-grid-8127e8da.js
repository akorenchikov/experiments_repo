DxBlazorInternal.define("cjs-grid-8127e8da.js",(function(e,t,l){var n=e("./cjs-chunk-c5286524.js"),o=e("./cjs-dom-utils-c4472fdd.js"),r=e("./cjs-chunk-fc814f01.js"),i=e("./cjs-chunk-2cdecb19.js"),a=e("./cjs-chunk-ac940e94.js"),c=".dxbs-table td.table-active",s=".dropdown-item.active",u=".dropdown-item.focused",d={GroupPanelHead:"gph",ColumnHead:"ch"};function h(e){if(!e.hasAttribute("data-dxdg-draggable"))return null;var t=e.getAttribute("data-dxdg-draggable").split("|"),l=!(t.length>2)||"1"===t[2],n=t.length>1?d[t[1]]:d.ColumnHead,o=n===d.ColumnHead?parseInt(t[0]):-1,r=n===d.GroupPanelHead?parseInt(t[0]):-1,i=e.previousElementSibling;return{columnVisibleIndex:o,groupVisibleIndex:r,columnHeadType:n,canBeGrouped:l,needInsertBeforeToo:!i||!h(i),element:e}}function f(e){return"[data-dxdg-draggable-id="+e+"]"}function g(e,t,l){var n,o,r;n=e,o=p(t,"clientX")-l.left,r=p(t,"clientY")-l.top,void(n.style.transform=["translate(",Math.round(o),"px, ",Math.round(r),"px)"].join(""))}function p(e,t){return void 0!==e[t]?e[t]:void 0!==e.touches?e.touches[0][t]:0}function m(e,t,l){var r=p(e,"clientX"),a=p(e,"clientY"),c=e.target,s=!1,u=function(e){var n=Math.abs(r-p(e,"clientX"))>10,u=Math.abs(a-p(e,"clientY"))>10;return(n||u)&&(s=!0,m(),function(e,t,l,n){var r=f(l),a=o.findParentBySelector(t,r);if(!a)return;var c=o.getParentByClassName(a,"dxbs-gridview").getBoundingClientRect(),s=h(a),u=o.getDocumentScrollLeft(),m=o.getDocumentScrollTop(),H={left:0,top:0},T=function(e,t){for(var l=[],n=f(t),o=document.querySelectorAll(n),r=!1,i=!1,a=0;a<o.length;a++){var c=o[a],s=c.getBoundingClientRect(),u=h(c),g=u.columnVisibleIndex,p=u.groupVisibleIndex,m=u.columnHeadType;m===d.GroupPanelHead?r=!0:m===d.ColumnHead&&(i=!0),u.needInsertBeforeToo&&l.push(new v(c,s.left,s.top,s.bottom,g,p,m,!0,!1)),l.push(new v(c,s.right,s.top,s.bottom,g,p,m,!1,!1))}if(r||i){if(!r){var y=document.querySelector("[data-dxdg-drag-group-panel="+t+"]");if(y){var S=y.getBoundingClientRect();l.push(new v(y,S.left,S.top,S.bottom,-1,0,d.GroupPanelHead,!1,!0,!0))}}if(!i){var H=document.querySelector("[data-dxdg-drag-head-row="+t+"]");if(H){var T=H.getBoundingClientRect();l.push(new v(H,T.right,T.top,T.bottom,-1,-1,d.ColumnHead,!1,!0,!0))}}}return l}(0,l),E=function(e,t){var l=e.cloneNode(!0),n=e.getBoundingClientRect(),o={left:p(t,"clientX")-n.left,top:p(t,"clientY")-n.top};if("DIV"!==l.tagName){var r=document.createElement("DIV"),i=window.getComputedStyle(e);r.innerHTML=l.innerHTML,r.className="card "+e.className,r.style.width=n.width+"px",r.style.height=n.height+"px",r.style.paddingTop=i.paddingTop,r.style.paddingBottom=i.paddingBottom,r.style.paddingLeft=i.paddingLeft,r.style.paddingRight=i.paddingRight,l=r}else l.style.width=n.width+"px",l.style.height=n.height+"px";l.className=l.className+" dx-dragging-state",document.body.appendChild(l);var a=l.getBoundingClientRect();return{dragElement:l,offsetFromMouse:{left:a.left+o.left,top:a.top+o.top}}}(a,e),b=E.dragElement,x=E.offsetFromMouse;g(b,e,x);var w=!0,I=null,R=function(e){return w&&(b.style.visibility="visible",w=!1),g(b,e,{left:x.left+H.left,top:x.top+H.top}),I=function(e,t,l,n,r,i){!function(e){for(var t=f(e),l=document.querySelectorAll("div.dxgv-target-marks"+t),n=0;n<l.length;n++){var o=l[n];o.parentNode.removeChild(o)}}(t);for(var a=null,c=[],s=p(n,"clientX"),u=p(n,"clientY"),h=0;h<e.length;h++){var g=e[h];if(g.columnHeadType!==d.GroupPanelHead||l.canBeGrouped)if(g.top+r.top<=u&&u<=g.bottom+r.top){if(g.wholeRowIsRarget){a=g;break}c.push({distance:Math.abs(Math.abs(g.x+r.left)-Math.abs(s)),target:g})}}if(null==a){var m=1e6;for(var v in c)m>c[v].distance&&S(s,l,c[v].target)&&(m=c[v].distance,a=c[v].target)}null==a||y(l,a)||a.x>=i.left&&a.x<=i.right&&!function(e,t){var l=document.createElement("DIV");l.className="dxgv-target-marks",l.dataset.dxdgDraggableId=t,l.style.top=e.top+(e.docScrollTop-o.getDocumentScrollTop())+o.getDocumentScrollTop()-1-1+"px",l.style.height=e.bottom-e.top+2+"px",l.style.left=e.x+(e.docScrollLeft-o.getDocumentScrollLeft())+o.getDocumentScrollLeft()+"px",l.innerHTML=["<span class='oi oi-arrow-bottom' aria-hidden='true'></span>","<div style='height:",l.style.height,"'></div>","<span class='oi oi-arrow-top' aria-hidden='true'></span>"].join(""),document.body.appendChild(l),e.mark=l}(a,t);return a}(T,l,s,e,H,c),e.preventDefault(),!1},B=function(){I&&!y(s,I)&&(n.invokeMethodAsync("OnGridColumnHeadDragNDrop",s.columnHeadType===d.GroupPanelHead?s.groupVisibleIndex:s.columnVisibleIndex,s.columnHeadType,I.columnHeadType===d.GroupPanelHead?I.groupVisibleIndex:I.columnVisibleIndex,I.columnHeadType,I.insertBefore),I.mark&&I.mark.parentNode.removeChild(I.mark));o.detachEventFromElement(document,i.TouchUIHelper.touchMouseMoveEventName,R),o.detachEventFromElement(document,i.TouchUIHelper.touchMouseUpEventName,B),o.detachEventFromElement(window,"scroll",D),b.parentNode.removeChild(b)},D=function(){H={left:u-o.getDocumentScrollLeft(),top:m-o.getDocumentScrollTop()}};o.attachEventToElement(document,i.TouchUIHelper.touchMouseMoveEventName,R),o.attachEventToElement(document,i.TouchUIHelper.touchMouseUpEventName,B),o.attachEventToElement(window,"scroll",D)}(e,c,t,l)),e.preventDefault(),!1},m=function(){o.detachEventFromElement(document,i.TouchUIHelper.touchMouseMoveEventName,u),o.detachEventFromElement(document,i.TouchUIHelper.touchMouseUpEventName,m),!s&&c&&n.Browser.WebKitTouchUI&&c.click()};return o.attachEventToElement(document,i.TouchUIHelper.touchMouseMoveEventName,u),o.attachEventToElement(document,i.TouchUIHelper.touchMouseUpEventName,m),e.preventDefault(),c.focus(),!1}function v(e,t,l,n,r,i,a,c,s){this.element=e,this.x=t,this.top=l,this.bottom=n,this.columnVisibleIndex=r,this.groupVisibleIndex=i,this.columnHeadType=a,this.insertBefore=c,this.wholeRowIsRarget=s,this.docScrollTop=o.getDocumentScrollTop(),this.docScrollLeft=o.getDocumentScrollLeft()}function y(e,t){function l(e,t){return t.groupVisibleIndex===e.groupVisibleIndex||t.groupVisibleIndex===e.groupVisibleIndex-1&&!t.insertBefore}function n(e,t){return t.columnVisibleIndex===e.columnVisibleIndex||t.columnVisibleIndex===e.columnVisibleIndex-1&&!t.insertBefore}return!(t.columnHeadType!==e.columnHeadType||e.columnHeadType!==d.GroupPanelHead||!l(e,t))||(!(t.columnHeadType!==e.columnHeadType||e.columnHeadType!==d.ColumnHead||!n(e,t))||(!(e.columnHeadType!==d.GroupPanelHead||t.columnHeadType!==d.ColumnHead||-1===e.columnVisibleIndex||!n(e,t))||!(e.columnHeadType!==d.ColumnHead||t.columnHeadType!==d.GroupPanelHead||-1===e.groupVisibleIndex||!l(e,t))))}function S(e,t,l){var n=t.element.getBoundingClientRect();if(y(t,l)&&(e<n.left||e>n.right))return!1;if(l.x<n.left){if(e>n.right)return!1}else if(e<n.left)return!1;return!0}d[1]=d.ColumnHead,d[0]=d.GroupPanelHead;var H=function(e,t,l){this._itemHeight=e,this._scrollTop=t,this._scrollHeight=l},T={itemHeight:{configurable:!0},scrollTop:{configurable:!0},scrollHeight:{configurable:!0}};function E(e){if(o.elementIsInDOM(e)){var t=function(e){var t=e.querySelector("*[id$='_LB']");t||(t=e.parentNode.querySelector("*[id$='_LB']"));t||(t=e);if(t){var l=t.querySelector(s);if(l||(l=t.querySelector(c)),l)return l.parentNode}return null}(e);if(t||(t=function(e){var t=null;o.querySelectorFromRoot(e,(function(l){t=e.querySelector("*"+l+" > *[id$='_LB']")})),t||o.querySelectorFromRoot(e.parentNode,(function(l){t=e.parentNode.querySelector("*"+l+" > *[id$='_LB']")}));var l=t?t.querySelector(c):null;return l?l.parentNode:null}(e)),t){var l=e,n=t.offsetTop;if("TABLE"===t.offsetParent.tagName){var r=t.offsetParent.previousElementSibling;r&&(n+=r.clientHeight)}var i=l.scrollTop+l.clientHeight<n+t.offsetHeight;l.scrollTop>n&&(l.scrollTop=n),i&&(l.scrollTop=n-(l.clientHeight-t.offsetHeight))}}}function b(e){void 0===e.dataset.virtualScrollLock&&(e.dataset.virtualScrollLock=0)}function x(e){b(e),e.dataset.virtualScrollLock++}function w(e){b(e),e.dataset.virtualScrollLock--}function I(e,t,l,n,r,i,a){l.isHorizontalScrolling&&!function(e,t,l){if(t.scrollLeft===l.scrollLeft)return;var n=o.getEventSource(e);n===t?l.scrollLeft=t.scrollLeft:n===l&&setTimeout((function(){return t.scrollLeft=l.scrollLeft}),0)}(e,n,r),l.isVirtualScrolling&&function(e,t,l,n,o){if(r=l,b(r),r.dataset.virtualScrollLock>0)return;var r;!function(e,t,l,n,o){var r=!0;l.dataset.prevScrollTop?r=l.dataset.prevScrollTop!==l.scrollTop.toString():l.dataset.prevScrollTop=l.scrollTop;R(l),r&&(l.dataset.OnScrollTimerId=setTimeout((function(){!function(e,t,l,n,o){var r=B(t),i=N(t,o),a=i.scrollTop,c=i.scrollBottom,s=n.clientHeight>0&&c>l.offsetHeight+r.offsetHeight;(l.clientHeight>0&&a<l.offsetHeight||s)&&!function(e,t,l){if(e.dxScrollStateCache&&e.dxScrollStateCache.isEqual(l))return;e.dxScrollStateCache=l,t.DxRestoreScrollTop=t.scrollTop,x(t),e.invokeMethodAsync("OnGridVirtualScroll",l.itemHeight,l.scrollTop,l.scrollHeight).then((function(l){!function(e,t){U(e.mainElement,e,t)}(l,e),w(t)})).catch(V)}(e,t,i.requestScrollState)}(e,l,n,o,!1),t.needInternalSettings&&M(t)}),200))}(e,t,l,n,o)}(t,l,n,i,a)}function R(e){e.dataset.OnScrollTimerId&&(clearTimeout(e.dataset.OnScrollTimerId),delete e.dataset.OnScrollTimerId)}function B(e){var t=e.querySelector("table.dxbs-table"),l=e.parentNode.querySelector("div.dxbs-listbox > ul");return t||l}function D(e,t,l,n,o){var r=B(t),i=function(e,t){var l=q(e);return{itemHeight:l,spacerTop:t.virtualScrollingOptions.itemsAbove*l,spacerBelow:t.virtualScrollingOptions.itemsBelow*l}}(r,o);l.style.height=i.spacerTop+"px",n.style.height=i.spacerBelow+"px",function(e,t,l,n){if(e.clientHeight>t.offsetHeight)return;e.scrollTop<l.clientHeight&&(e.scrollTop=l.clientHeight+1);e.scrollTop+e.clientHeight>l.clientHeight+t.offsetHeight&&(e.scrollTop=l.clientHeight+t.offsetHeight-e.clientHeight-1)}(t,r,l)}function q(e){for(var t=function(e){var t=[];return e.dataset.tempUniqueId="tempUniqueId","TABLE"===e.tagName?t=e.parentNode.querySelectorAll("TABLE[data-temp-unique-id] > TBODY > TR"):"UL"===e.tagName&&(t=e.parentNode.querySelectorAll("ul[data-temp-unique-id] > li")),delete e.dataset.tempUniqueId,t}(e),l={},n=0;n<t.length;n++){var o=t[n];l[o.offsetHeight]=l[o.offsetHeight]?l[o.offsetHeight]+1:1}var r=0,i=0;for(var a in l)l[a]>i&&(i=l[a],r=a);return Number.parseInt(r)}function N(e,t){var l=300,n=300;t&&(l=0,n=0);var o=B(e),r=e.scrollTop-l;r<0&&(r=0);var i=e.scrollTop+e.clientHeight+n,a=r-l;a<0&&(a=0);var c=i-a+n,s=q(o);return{scrollTop:r,scrollBottom:i,requestScrollState:new H(s,a,c)}}function V(e){e&&e.mainElement&&F(e.mainElement)}function C(e,t){return(t.isVerticalScrolling||t.isVirtualScrolling)&&(e.clientHeight<e.scrollHeight||"scroll"===e.style.overflowY)}function L(e){return function(){if(e.ownerStyleSheet){var t=e.parentStyleSheet,l=Array.prototype.indexOf.call(t.cssRules,e);l>-1&&t.deleteRule(l)}}}function M(e){var t=e.elementsStorage,l=o.ensureElement(e.mainElement).parentElement;if(l){var n=o.ensureElement(t.scrollElement),i=o.ensureElement(t.scrollHeaderElement),a=[],c=window.getComputedStyle(l);if(c){if(!n.style.maxHeight)if(e.isDropDown)n.style.maxHeight=j(c,i)+"px";else{var s=o.subscribeElementContentSize(l,(function(e){n.style.maxHeight=e.height-i.offsetHeight+"px"})),u=o.subscribeElementContentSize(i,(function(e){n.style.maxHeight=l.clientHeight-(e.height+2*o.getTopBottomBordersAndPaddingsSummaryValue(i))+"px"}));a.push((function(){o.unsubscribeElement(s),o.unsubscribeElement(u)})),n.style.maxHeight=l.clientHeight-i.offsetHeight+"px"}if(e.isDropDown&&2!==e.dropDownWidthMode){var d=k(n,i,l,e.mainElement,e.dropDownWidthMode,c),h=n.querySelector("table");if(!h)return;r.registerDisposableEvents(h,(function(){d&&d()}));var f=o.subscribeElementContentSize(h,(function(t){r.disposeEvents(h);var o=k(n,i,l,e.mainElement,e.dropDownWidthMode,c);r.registerDisposableEvents(h,(function(){o&&o()}))}));a.push((function(){o.unsubscribeElement(f),r.disposeEvents(h)}))}return a.length>0?function(){a.forEach((function(e){return e()}))}:null}}}function k(e,t,l,n,r,i){function c(e,t){var l=e.querySelector(t);return l?l.children:null}var s=null,u=e.querySelector("table"),d=t.querySelector("table");if(u&&d){var h=c(u,"tbody>tr"),f=h&&1===h.length&&u.querySelector("tr.dxbs-empty-data-row"),g=c(d,"colgroup"),p=c(u,"colgroup");l.dataset.calculated&&A(g,p);var m=0;if(f){d.style.width="auto";var v=window.getComputedStyle(d).width;d.removeAttribute("style"),m=parseFloat(v,10)}else{var y=c(d,"thead>tr");if(!(g&&y&&h&&p))return;u.style.width=d.style.width="auto";for(var S=[],H=0;H<g.length;H++)if(g[H].style.width)if(-1!==g[H].style.width.indexOf("%"))S.push(H);else{var T=o.getCurrentStyleSheet(),E=o.ensureElement(n).getAttribute("data-dxdg-id"),b=null;T&&(T.insertRule("[data-dxdg-id='"+E+"'] table tr>td:nth-child("+(H+1)+"), [data-dxdg-id='"+E+"'] table tr>th:nth-child("+(H+1)+") { max-width:"+g[H].style.width+"; }",T.cssRules.length),b=T.cssRules[T.cssRules.length-1],m+=parseFloat(g[H].style.width,10)),s=L(b)}else g[H].dataset.autoWidth=!0,m+=P(g[H],p[H],y[H],h[H]);if(S.length>0)for(var x=0;x<S.length;x++)m+=P(g[x],p[x],y[x],h[x]);u.removeAttribute("style"),d.removeAttribute("style")}if(0===r||1===r){var w=o.getParentByClassName(l,"dx-blazor-multicolumn-editor");if(!w)return;var I=parseInt(i.borderRightWidth,10)+parseInt(i.borderLeftWidth,10),R=m+(e.querySelector("table").offsetHeight>j(i,t)?a.getVerticalScrollBarWidth():0)+I+1;0===r&&w.offsetWidth>=R?(A(g,p),l.style.width=w.offsetWidth+"px"):l.style.width=R+"px"}return l.dataset.calculated=!0,s}}function j(e,t){var l=parseInt(e.borderTopWidth,10)+parseInt(e.borderBottomWidth,10);return parseInt(e.maxHeight,10)-l-t.offsetHeight}function P(e,t,l,n){var o=l.offsetWidth,r=n.offsetWidth,i=o>r?o:r;return t.style.width=e.style.width=i+"px",i}function A(e,t){for(var l=0;l<e.length;l++)if(e[l].dataset.autoWidth&&(e[l].style.width=null,t)){var n=t.item(l);n&&(n.style.width=null)}}function U(e,t,l){var n=o.ensureElement(e);if(n){var c=l,s=t.scrollToSelectedItemRequested,u=t.elementsStorage,d=o.ensureElement(u.scrollElement),h=o.ensureElement(u.scrollHeaderElement),f=o.ensureElement(u.virtualScrollSpacerTopElement),g=o.ensureElement(u.virtualScrollSpacerBottomElement);r.disposeEvents(n);var p=null,v=null,y=null,S=null,H=null;t.needInternalSettings&&(H=M(t)),d=o.ensureElement(d);var T=null;if(d&&(h=o.ensureElement(h),x(d),t.isVirtualScrolling&&(f=o.ensureElement(f),g=o.ensureElement(g)),(t.isVirtualScrolling||t.isVerticalScrolling)&&function(e,t,l){if((l.isVerticalScrolling||l.isVirtualScrolling)&&t){var n=[t];if(C(e,l)){var o=a.getVerticalScrollBarWidth();if(17!==o||l.isHorizontalScrolling)for(var r=l.isHorizontalScrolling?"paddingRight":"marginRight",i=l.isHorizontalScrolling?"marginRight":"paddingRight",c=0,s=n.length;c<s;c++)n[c].style[r]="0",n[c].style[i]=o+"px";else e.style.paddingRight="",e.style.marginRight="",t.style.paddingRight="",t.style.marginRight=""}else e.style.paddingRight="0",e.style.marginRight="0",t.style.paddingRight="0",t.style.marginRight="0"}}(d,h,t),t.isVirtualScrolling&&(D(0,d,f,g,t),s?E(d):d.DxRestoreScrollTop&&(d.scrollTop=d.DxRestoreScrollTop,delete d.DxRestoreScrollTop)),T=function(e){for(var t=e.querySelectorAll(".btn.btn-toggle"),l=0,n=0;n<t.length;n++){var r=t[n],i=r.offsetWidth+o.getLeftRightBordersAndPaddingsSummaryValue(r.parentNode);if(i>0){l=i;break}}var a=o.getCurrentStyleSheet(),c=e.getAttribute("data-dxdg-id"),s=null;return a&&(a.insertRule("[data-dxdg-id='"+c+"'] > col.dxbs-grid-cols-togglebtn { width:"+l+"px !important; }",a.cssRules.length),s=a.cssRules[a.cssRules.length-1]),L(s)}(n),o.attachEventToElement(d,"scroll",p=function(e){return I(e,c,t,d,h,f,g)}),h&&o.attachEventToElement(h,"scroll",p),w(d),function(e){return!e.needInternalSettings&&(e.isHorizontalScrolling||e.isVerticalScrolling)}(t))){var b=o.ensureElement(u.rootElement);(v=function(){!function(e,t,l,n){var o,r;t&&(x(t),o=t.style.overflowX,t.style.overflowX="hidden",t.style.width="0"),l&&(r=l.style.overflowX,l.style.overflowX="hidden",l.style.width="0");var i=e.clientWidth;if(t&&(i&&(t.style.width=i+"px"),t.style.overflowX=o),l){var c=C(t,n)?a.getVerticalScrollBarWidth():0;i&&(l.style.width=i-c+"px"),l.style.overflowX=r}t&&w(t)}(b,d,h,t)})(),o.attachEventToElement(window,"resize",v)}var B=null,q=null;if(t.isColumnDragEnabled){var N=n.dataset.dxdgId;N&&((B=n.querySelector("[data-dxdg-drag-head-row='"+N+"']"))&&o.attachEventToElement(B,i.TouchUIHelper.touchMouseDownEventName,y=function(e){return m(e,N,c)}),(q=n.querySelector("[data-dxdg-gp='"+N+"']"))&&o.attachEventToElement(q,i.TouchUIHelper.touchMouseDownEventName,S=function(e){return m(e,N,c)}))}return r.registerDisposableEvents(n,(function(){T&&T(),H&&H(),p&&(o.detachEventFromElement(d,"scroll",I),h&&o.detachEventFromElement(h,"scroll",I)),v&&o.detachEventFromElement(window,"resize",v),d&&R(d),y&&B&&o.detachEventFromElement(B,i.TouchUIHelper.touchMouseDownEventName,y),S&&q&&o.detachEventFromElement(q,i.TouchUIHelper.touchMouseDownEventName,S)})),Promise.resolve("ok")}}function F(e){return(e=o.ensureElement(e))&&r.disposeEvents(e),Promise.resolve("ok")}T.itemHeight.get=function(){return this._itemHeight},T.scrollTop.get=function(){return this._scrollTop},T.scrollHeight.get=function(){return this._scrollHeight},H.prototype.isEqual=function(e){return this.itemHeight===e.itemHeight&&this.scrollTop===e.scrollTop&&this.scrollHeight===e.scrollHeight},Object.defineProperties(H.prototype,T);var W={init:U,dispose:F};l.HasParametersForVirtualScrollingRequest=function(e){return null!==B(e)},l.default=W,l.dispose=F,l.getParametersForVirtualScrollingRequest=N,l.init=U,l.scrollToFocusedItem=function(e){if(o.elementIsInDOM(e)){var t=function(e){var t=e.querySelector("*[id$='_LB']");t||(t=e.parentNode.querySelector("*[id$='_LB']"));t||(t=e);if(t){var l=t.querySelector(u);if(l)return"TR"===l.tagName?l:l.parentNode}return null}(e);if(t){var l=e.querySelector(".dxgvCSD");l||(l=e);var n=l.scrollTop+l.clientHeight<t.offsetTop+t.offsetHeight;l.scrollTop>t.offsetTop&&(l.scrollTop=t.offsetTop),n&&(l.scrollTop=t.offsetTop-(l.clientHeight-t.offsetHeight))}}},l.scrollToSelectedItem=E}),["cjs-chunk-c5286524.js","cjs-dom-utils-c4472fdd.js","cjs-chunk-fc814f01.js","cjs-chunk-2cdecb19.js","cjs-chunk-ac940e94.js"]);
